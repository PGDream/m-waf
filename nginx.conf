
daemon off;

worker_processes 2;

pid /run/nginx.pid;

worker_rlimit_nofile 1048576;

worker_shutdown_timeout 10s ;

events {
	multi_accept        on;
	worker_connections  65536;
	use                 epoll;
}

http {
	
	lua_package_cpath "/usr/local/lib/lua/?.so;/usr/lib/x86_64-linux-gnu/lua/5.1/?.so;;";
	lua_package_path "/etc/nginx/lua/?.lua;/etc/nginx/lua/vendor/?.lua;/usr/local/lib/lua/?.lua;;";
	
	init_by_lua_block {
		require("resty.core")
		collectgarbage("collect")
		
		local lua_resty_waf = require("resty.waf")
		lua_resty_waf.init()
		
	}
	
	real_ip_header      X-Forwarded-For;
	
	real_ip_recursive   on;
	
	set_real_ip_from    0.0.0.0/0;
	
	geoip_country       /etc/nginx/geoip/GeoIP.dat;
	geoip_city          /etc/nginx/geoip/GeoLiteCity.dat;
	geoip_org           /etc/nginx/geoip/GeoIPASNum.dat;
	geoip_proxy_recursive on;
	
	aio                 threads;
	aio_write           on;
	
	tcp_nopush          on;
	tcp_nodelay         on;
	
	log_subrequest      on;
	
	reset_timedout_connection on;
	
	keepalive_timeout  1200s;
	keepalive_requests 100;
	
	client_header_buffer_size       1k;
	client_header_timeout           60s;
	large_client_header_buffers     4 8k;
	client_body_buffer_size         8k;
	client_body_timeout             60s;
	
	http2_max_field_size            4k;
	http2_max_header_size           16k;
	
	types_hash_max_size             2048;
	server_names_hash_max_size      4096;
	server_names_hash_bucket_size   64;
	map_hash_bucket_size            64;
	
	proxy_headers_hash_max_size     512;
	proxy_headers_hash_bucket_size  64;
	
	variables_hash_bucket_size      128;
	variables_hash_max_size         2048;
	
	underscores_in_headers          on;
	ignore_invalid_headers          on;
	
	limit_req_status                503;
	
	include /etc/nginx/mime.types;
	default_type text/html;
	
	gzip on;
	gzip_comp_level 5;
	gzip_http_version 1.1;
	gzip_min_length 256;
	gzip_types application/atom+xml application/javascript application/x-javascript application/json application/rss+xml application/vnd.ms-fontobject application/x-font-ttf application/x-web-app-manifest+json application/xhtml+xml application/xml font/opentype image/svg+xml image/x-icon text/css text/plain text/x-component;
	gzip_proxied any;
	gzip_vary on;
	
	# Custom headers for response
	
	server_tokens on;
	
	# disable warnings
	uninitialized_variable_warn off;
	
	# Additional available variables:
	# $namespace
	# $ingress_name
	# $service_name
	log_format upstreaminfo '$host - $proxy_add_x_forwarded_for - $remote_user [$time_local] "$request" $status $body_bytes_sent "$http_referer" "$http_user_agent" "$http_x_forwarded_for" "$request_time"';
	
	map $request_uri $loggable {
		
		default 1;
	}
	
	access_log /var/log/nginx/access.log upstreaminfo if=$loggable;
	
	error_log  /var/log/nginx/error.log notice;
	
	resolver 10.245.0.10 valid=30s;
	
	# Retain the default nginx handling of requests without a "Connection" header
	map $http_upgrade $connection_upgrade {
		default          upgrade;
		''               close;
	}
	
	map $http_x_forwarded_for $the_real_ip {
		
		default          $remote_addr;
		
	}
	
	# trust http_x_forwarded_proto headers correctly indicate ssl offloading
	map $http_x_forwarded_proto $pass_access_scheme {
		default          $http_x_forwarded_proto;
		''               $scheme;
	}
	
	# validate $pass_access_scheme and $scheme are http to force a redirect
	map "$scheme:$pass_access_scheme" $redirect_to_https {
		default          0;
		"http:http"      1;
		"https:http"     1;
	}
	
	map $http_x_forwarded_port $pass_server_port {
		default           $http_x_forwarded_port;
		''                $server_port;
	}
	
	map $pass_server_port $pass_port {
		443              443;
		default          $pass_server_port;
	}
	
	# Obtain best http host
	map $http_host $this_host {
		default          $http_host;
		''               $host;
	}
	
	map $http_x_forwarded_host $best_http_host {
		default          $http_x_forwarded_host;
		''               $this_host;
	}
	
	# Custom map primitive
	
	# Reverse proxies can detect if a client provides a X-Request-ID header, and pass it on to the backend server.
	# If no such header is provided, it can provide a random value.
	map $http_x_request_id $req_id {
		default   $http_x_request_id;
		""        $request_id;
	}
	
	server_name_in_redirect off;
	port_in_redirect        off;
	
	ssl_protocols TLSv1.2;
	
	# turn on session caching to drastically improve performance
	
	ssl_session_cache builtin:1000 shared:SSL:10m;
	ssl_session_timeout 10m;
	
	# allow configuring ssl session tickets
	ssl_session_tickets on;
	
	# slightly reduce the time-to-first-byte
	ssl_buffer_size 4k;
	
	# allow configuring custom ssl ciphers
	ssl_ciphers 'ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256';
	ssl_prefer_server_ciphers on;
	
	ssl_ecdh_curve auto;
	
	proxy_ssl_session_reuse on;
	
	upstream default-jiaxiao-marketing-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.9.14:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-jupiter-incubator-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.7.140:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-pitu-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.5.118:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-jiaxiao-cms-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.5.117:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-rcc-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.5.8:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-bulldog-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.9.9:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-prometheus-simple-master-hz-9090 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.4.89:9090 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-ipip-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.7.131:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-orcus-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.4.53:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-vin-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.5.122:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream upstream-default-backend {
		least_conn;
		
		keepalive 32;
		
		server 10.244.1.131:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-prometheus-ecs-hz-2-9090 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.3.123:9090 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-car-loan-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.6.253:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-tufushangcheng-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.7.180:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-dealer-sem-oort-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.6.158:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-maiche-seo-wemedia-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.52:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-jiaxiao-lead-filter-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.4.116:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-logcenter-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.7.195:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-prometheus-k8s-slave-hz-9090 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.7.181:9090 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-goods-wz-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.184:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-maichebaodian-sem-nodejs-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.111:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-www-tufu-com-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.86:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-jiaxiao-user-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.9.18:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-maiche-seo-caibian-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.145:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-wenjuan-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.2.35:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-medal-service-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.62:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-anti-content-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.53:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-pxzjcyh-weixin-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.9.5:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-detect-ips-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.5.17:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-common-cartype-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.3.114:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-question-manager-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.4.74:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-label-gen-question-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.6.227:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-weixin-platform-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.6.147:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-misc-new-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.7.139:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-m-mucang-cn-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.4.14:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-insurance-car-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.3.98:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-jiakao-nearby-rank-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.2.106:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-fold-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.3.120:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-es7-ttt-kibana-kibana-5601 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.4.33:5601 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-prometheus-assembly-hz-9090 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.4.34:9090 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-xiaozhu2-dealer-admin-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.7.144:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-mip-xiaozhu2-com-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.4.50:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-panoramic-image-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.3.2:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-hubble-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.2.20:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-prometheus-alertmanager-simple-9093 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.2.121:9093 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-group-assistant-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.2.25:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-libra-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.140:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-asgard-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.64:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-jiaxiao-rank-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.9.23:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-xue-lead-misc-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.158:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-aso-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.9.16:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-alertmanager-9093 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.9.20:9093 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-jiaxiao-vip-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.9.7:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-thanos-alert-rule-10902 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.42:10902 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-m-xiaozhu2-com-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.4.51:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-maichebaodian-sem-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.51:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-www-jiaxiaozhijia-sem-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.102:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-shaker-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.2.23:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-es7-ttt-master-9200 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.6.155:9200 max_fails=0 fail_timeout=0;
		server 10.244.5.114:9200 max_fails=0 fail_timeout=0;
		server 10.244.7.137:9200 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-influxdb-nginx-hz-8086 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.6.177:8086 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-december-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.206:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-calendar-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.6.249:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-maiche-hynews-kakamobi-com-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.5.106:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-voyager-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.6.205:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-cheetah-api-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.132:8080 max_fails=0 fail_timeout=0;
		server 10.244.8.136:8080 max_fails=0 fail_timeout=0;
		server 10.244.8.133:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-rocket-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.144:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-jikebao-web-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.4.70:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-ershouche-clue-offline-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.5.40:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-myth-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.70:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-lead-d-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.5.48:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-cheetah-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.4.73:8080 max_fails=0 fail_timeout=0;
		server 10.244.7.173:8080 max_fails=0 fail_timeout=0;
		server 10.244.6.245:8080 max_fails=0 fail_timeout=0;
		server 10.244.5.49:8080 max_fails=0 fail_timeout=0;
		server 10.244.3.10:8080 max_fails=0 fail_timeout=0;
		server 10.244.8.50:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-tiku-caibian-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.29:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-maiche-hynews-www-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.5.107:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-www-xiaozhu2-web-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.4.52:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-maiche-huanggang-www-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.5.100:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-intent-score-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.2.45:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-www-mucang-web-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.2.44:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-insurance-jx-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.3.4:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-xue-lead-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.43:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-m-maichebao-net-cn-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.7.224:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-record-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.48:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-asgard-spider-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.7.155:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-thanos-querier-9090 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.3.33:10902 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-jiaxiao-golden-coach-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.2.86:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-seo-media-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.6.66:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-jiaxiao-promotion-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.2.105:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-clue-offline-car-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.3.68:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-toutiao-city-agent-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.5:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-recording-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.2.104:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-taurus-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.3.11:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-lungfish-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.2.67:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-entrance-page-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.5.16:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-website-seo-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.141:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-ip-proxy-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.46:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-prometheus-ecs-hz-0-9090 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.6.27:9090 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-parallel-home-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.9.19:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-ad-clue-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.156:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-topsales-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.134:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-xueshi-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.137:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-m-jiaxiao-sem-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.3.85:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-jiaxiao122-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.9.6:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-newbowl-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.3.12:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-jiakao-misc-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.4.62:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-label-gen-lead-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.139:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-audio-recognition-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.6.111:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-jiaxiao-data-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.3.79:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-codimd-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.4.83:3000 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-prometheus-ecs-hz-1-9090 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.6.25:9090 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-jiaxiao-bd-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.245:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-jiaxiao-report-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.4.57:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-manhunt-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.138:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-app-exam-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.2.12:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-baike-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.4.39:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-crm-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.103:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-usedcar-statistic-lead-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.2.61:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-prometheus-ecs-simple-slave-hz-9090 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.5.7:9090 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-yiqing-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.5.45:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-crm-clue-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.5.41:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-lead-analysis-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.6.113:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-comment-publish-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.8.130:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-mind-visit-8080 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.2.111:8080 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-prometheus-k8s-simple-slave-hz-9090 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.2.85:9090 max_fails=0 fail_timeout=0;
		
	}
	
	upstream default-prometheus-k8s-master-hz-9090 {
		least_conn;
		
		keepalive 32;
		
		server 10.244.7.209:9090 max_fails=0 fail_timeout=0;
		
	}
	
	# Custom split_clients primitive
	
	## start server _
	server {
		server_name _ ;
		
		listen 80 default_server  backlog=65535;
		
		listen [::]:80 default_server  backlog=65535;
		
		set $proxy_upstream_name "-";
		
		listen 443  default_server  backlog=65535 ssl http2;
		
		listen [::]:443  default_server  backlog=65535 ssl http2;
		
		# PEM sha: b4aad9c9402f790c5d1a788169ad19c9ea5ba722
		ssl_certificate                         /ingress-controller/ssl/default-fake-certificate.pem;
		ssl_certificate_key                     /ingress-controller/ssl/default-fake-certificate.pem;
		
		if ( $host = "mucang.cn" ) {
			rewrite .* https://www.mucang.cn$request_uri? redirect;
		}
		
		location / {
			
			log_by_lua_block {
				
			}
			
			if ($scheme = https) {
				more_set_headers                        "Strict-Transport-Security: max-age=15724800; includeSubDomains";
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-www-mucang-web-8080";
			
			set $namespace      "default";
			set $ingress_name   "www-mucang-web";
			set $service_name   "www-mucang-web";
			
			# enforce ssl on server side
			if ($redirect_to_https) {
				
				return 308 https://$best_http_host$request_uri;
				
			}
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_pass http://default-www-mucang-web-8080;
			
			proxy_redirect                          off;
			
		}
		
		# health checks in cloud providers require the use of port 80
		location /healthz {
			
			access_log off;
			return 200;
		}
		
		# this is required to avoid error if nginx is being monitored
		# with an external software (like sysdig)
		location /nginx_status {
			
			allow 127.0.0.1;
			
			allow ::1;
			
			deny all;
			
			access_log off;
			stub_status on;
		}
		
	}
	## end server _
	
	## start server ad-clue.kakamobi.cn
	server {
		server_name ad-clue.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-ad-clue-8080";
			
			set $namespace      "default";
			set $ingress_name   "ad-clue";
			set $service_name   "ad-clue";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-ad-clue-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server ad-clue.kakamobi.cn
	
	## start server ad-clue.mucang.me
	server {
		server_name ad-clue.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-ad-clue-8080";
			
			set $namespace      "default";
			set $ingress_name   "ad-clue";
			set $service_name   "ad-clue";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-ad-clue-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server ad-clue.mucang.me
	
	## start server alertmanager.kakamobi.cn
	server {
		server_name alertmanager.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-alertmanager-9093";
			
			set $namespace      "default";
			set $ingress_name   "alertmanager-outnet";
			set $service_name   "alertmanager";
			
			auth_basic "登录验证";
			auth_basic_user_file /etc/ingress-controller/auth/default-alertmanager-outnet.passwd;
			
			proxy_set_header Authorization "";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_pass http://default-alertmanager-9093;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server alertmanager.kakamobi.cn
	
	## start server alertmanager.mucang.me
	server {
		server_name alertmanager.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-alertmanager-9093";
			
			set $namespace      "default";
			set $ingress_name   "alertmanager";
			set $service_name   "alertmanager";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-alertmanager-9093;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server alertmanager.mucang.me
	
	## start server anti-content.kakamobi.cn
	server {
		server_name anti-content.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-anti-content-8080";
			
			set $namespace      "default";
			set $ingress_name   "anti-content";
			set $service_name   "anti-content";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-anti-content-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server anti-content.kakamobi.cn
	
	## start server anti-content.mucang.me
	server {
		server_name anti-content.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-anti-content-8080";
			
			set $namespace      "default";
			set $ingress_name   "anti-content";
			set $service_name   "anti-content";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-anti-content-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server anti-content.mucang.me
	
	## start server app-exam.kakamobi.cn
	server {
		server_name app-exam.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-app-exam-8080";
			
			set $namespace      "default";
			set $ingress_name   "app-exam";
			set $service_name   "app-exam";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-app-exam-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server app-exam.kakamobi.cn
	
	## start server asgard-spider.kakamobi.cn
	server {
		server_name asgard-spider.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-asgard-spider-8080";
			
			set $namespace      "default";
			set $ingress_name   "asgard-spider";
			set $service_name   "asgard-spider";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-asgard-spider-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server asgard-spider.kakamobi.cn
	
	## start server asgard-spider.mucang.me
	server {
		server_name asgard-spider.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-asgard-spider-8080";
			
			set $namespace      "default";
			set $ingress_name   "asgard-spider";
			set $service_name   "asgard-spider";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-asgard-spider-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server asgard-spider.mucang.me
	
	## start server asgard.kakamobi.cn
	server {
		server_name asgard.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-asgard-8080";
			
			set $namespace      "default";
			set $ingress_name   "asgard";
			set $service_name   "asgard";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-asgard-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server asgard.kakamobi.cn
	
	## start server aso.kakamobi.cn
	server {
		server_name aso.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-aso-8080";
			
			set $namespace      "default";
			set $ingress_name   "aso";
			set $service_name   "aso";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-aso-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server aso.kakamobi.cn
	
	## start server audio-recognition.kakamobi.cn
	server {
		server_name audio-recognition.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-audio-recognition-8080";
			
			set $namespace      "default";
			set $ingress_name   "audio-recognition";
			set $service_name   "audio-recognition";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-audio-recognition-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server audio-recognition.kakamobi.cn
	
	## start server baike.kakamobi.cn
	server {
		server_name baike.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-baike-8080";
			
			set $namespace      "default";
			set $ingress_name   "baike";
			set $service_name   "baike";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-baike-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server baike.kakamobi.cn
	
	## start server bulldog.kakamobi.cn
	server {
		server_name bulldog.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-bulldog-8080";
			
			set $namespace      "default";
			set $ingress_name   "bulldog";
			set $service_name   "bulldog";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-bulldog-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server bulldog.kakamobi.cn
	
	## start server calendar.kakamobi.cn
	server {
		server_name calendar.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-calendar-8080";
			
			set $namespace      "default";
			set $ingress_name   "calendar";
			set $service_name   "calendar";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-calendar-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server calendar.kakamobi.cn
	
	## start server car-loan.kakamobi.cn
	server {
		server_name car-loan.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-car-loan-8080";
			
			set $namespace      "default";
			set $ingress_name   "car-loan";
			set $service_name   "car-loan";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-car-loan-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server car-loan.kakamobi.cn
	
	## start server car-loan.mucang.me
	server {
		server_name car-loan.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-car-loan-8080";
			
			set $namespace      "default";
			set $ingress_name   "car-loan";
			set $service_name   "car-loan";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-car-loan-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server car-loan.mucang.me
	
	## start server cheetah.mucang.cn
	server {
		server_name cheetah.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-cheetah-api-8080";
			
			set $namespace      "default";
			set $ingress_name   "cheetah-api";
			set $service_name   "cheetah-api";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			proxy_set_header Connection "";
			
			proxy_pass http://default-cheetah-api-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server cheetah.mucang.cn
	
	## start server cheetah.mucang.me
	server {
		server_name cheetah.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-cheetah-api-8080";
			
			set $namespace      "default";
			set $ingress_name   "cheetah-api";
			set $service_name   "cheetah-api";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			proxy_set_header Connection "";
			
			proxy_pass http://default-cheetah-api-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server cheetah.mucang.me
	
	## start server clue-offline-car.kakamobi.cn
	server {
		server_name clue-offline-car.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-clue-offline-car-8080";
			
			set $namespace      "default";
			set $ingress_name   "clue-offline-car";
			set $service_name   "clue-offline-car";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-clue-offline-car-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server clue-offline-car.kakamobi.cn
	
	## start server cms.jiakaobaodian.com
	server {
		server_name cms.jiakaobaodian.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-jiaxiao-cms-8080";
			
			set $namespace      "default";
			set $ingress_name   "jiaxiao-cms";
			set $service_name   "jiaxiao-cms";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-jiaxiao-cms-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server cms.jiakaobaodian.com
	
	## start server cms.jiaxiaozhijia.com
	server {
		server_name cms.jiaxiaozhijia.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-jiaxiao-cms-8080";
			
			set $namespace      "default";
			set $ingress_name   "jiaxiao-cms";
			set $service_name   "jiaxiao-cms";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-jiaxiao-cms-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server cms.jiaxiaozhijia.com
	
	## start server codimd.mucang.cn
	server {
		server_name codimd.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-codimd-8080";
			
			set $namespace      "default";
			set $ingress_name   "codimd";
			set $service_name   "codimd";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-codimd-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server codimd.mucang.cn
	
	## start server comment-publish.kakamobi.cn
	server {
		server_name comment-publish.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-comment-publish-8080";
			
			set $namespace      "default";
			set $ingress_name   "comment-publish";
			set $service_name   "comment-publish";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-comment-publish-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server comment-publish.kakamobi.cn
	
	## start server common-cartype.baojiazhijia.com
	server {
		server_name common-cartype.baojiazhijia.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-common-cartype-8080";
			
			set $namespace      "default";
			set $ingress_name   "common-cartype";
			set $service_name   "common-cartype";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-common-cartype-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server common-cartype.baojiazhijia.com
	
	## start server common.cartype.baojiazhijia.com
	server {
		server_name common.cartype.baojiazhijia.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-common-cartype-8080";
			
			set $namespace      "default";
			set $ingress_name   "common-cartype";
			set $service_name   "common-cartype";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-common-cartype-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server common.cartype.baojiazhijia.com
	
	## start server crm-clue.kakamobi.cn
	server {
		server_name crm-clue.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-crm-clue-8080";
			
			set $namespace      "default";
			set $ingress_name   "crm-clue";
			set $service_name   "crm-clue";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-crm-clue-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server crm-clue.kakamobi.cn
	
	## start server crm.kakamobi.cn
	server {
		server_name crm.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-crm-8080";
			
			set $namespace      "default";
			set $ingress_name   "crm";
			set $service_name   "crm";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-crm-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server crm.kakamobi.cn
	
	## start server dealer-admin.xiaozhu2.com
	server {
		server_name dealer-admin.xiaozhu2.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-xiaozhu2-dealer-admin-8080";
			
			set $namespace      "default";
			set $ingress_name   "xiaozhu2-dealer-admin";
			set $service_name   "xiaozhu2-dealer-admin";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-xiaozhu2-dealer-admin-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server dealer-admin.xiaozhu2.com
	
	## start server dealer-sem-oort.kakamobi.cn
	server {
		server_name dealer-sem-oort.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-dealer-sem-oort-8080";
			
			set $namespace      "default";
			set $ingress_name   "dealer-sem-oort";
			set $service_name   "dealer-sem-oort";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-dealer-sem-oort-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server dealer-sem-oort.kakamobi.cn
	
	## start server december.kakamobi.cn
	server {
		server_name december.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-december-8080";
			
			set $namespace      "default";
			set $ingress_name   "december";
			set $service_name   "december";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-december-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server december.kakamobi.cn
	
	## start server december.mucang.me
	server {
		server_name december.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-december-8080";
			
			set $namespace      "default";
			set $ingress_name   "december";
			set $service_name   "december";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-december-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server december.mucang.me
	
	## start server detect-ips.kakamobi.cn
	server {
		server_name detect-ips.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-detect-ips-8080";
			
			set $namespace      "default";
			set $ingress_name   "detect-ips";
			set $service_name   "detect-ips";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-detect-ips-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server detect-ips.kakamobi.cn
	
	## start server ep.kakamobi.cn
	server {
		server_name ep.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-entrance-page-8080";
			
			set $namespace      "default";
			set $ingress_name   "entrance-page";
			set $service_name   "entrance-page";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-entrance-page-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server ep.kakamobi.cn
	
	## start server ershouche-clue-offline.kakamobi.cn
	server {
		server_name ershouche-clue-offline.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-ershouche-clue-offline-8080";
			
			set $namespace      "default";
			set $ingress_name   "ershouche-clue-offline";
			set $service_name   "ershouche-clue-offline";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-ershouche-clue-offline-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server ershouche-clue-offline.kakamobi.cn
	
	## start server es7-ttt-kibana.proxy.mucang.cn
	server {
		server_name es7-ttt-kibana.proxy.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-es7-ttt-kibana-kibana-5601";
			
			set $namespace      "default";
			set $ingress_name   "es7-ttt-kibana-kibana";
			set $service_name   "es7-ttt-kibana-kibana";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_pass http://default-es7-ttt-kibana-kibana-5601;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server es7-ttt-kibana.proxy.mucang.cn
	
	## start server es7.ttt.mucang.cn
	server {
		server_name es7.ttt.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-es7-ttt-master-9200";
			
			set $namespace      "default";
			set $ingress_name   "es7-ttt-master";
			set $service_name   "es7-ttt-master";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_pass http://default-es7-ttt-master-9200;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server es7.ttt.mucang.cn
	
	## start server es7.ttt.mucang.me
	server {
		server_name es7.ttt.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-es7-ttt-master-9200";
			
			set $namespace      "default";
			set $ingress_name   "es7-ttt-master";
			set $service_name   "es7-ttt-master";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_pass http://default-es7-ttt-master-9200;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server es7.ttt.mucang.me
	
	## start server flink-test.proxy.mucang.cn
	server {
		server_name flink-test.proxy.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "";
			
			set $namespace      "default";
			set $ingress_name   "flink-jobmanager-ingress";
			set $service_name   "flink-jobmanager";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			# No endpoints available for the request
			return 503;
			
		}
		
	}
	## end server flink-test.proxy.mucang.cn
	
	## start server fold.mucang.cn
	server {
		server_name fold.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-fold-8080";
			
			set $namespace      "default";
			set $ingress_name   "fold";
			set $service_name   "fold";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-fold-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server fold.mucang.cn
	
	## start server goods-wz.kakamobi.cn
	server {
		server_name goods-wz.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-goods-wz-8080";
			
			set $namespace      "default";
			set $ingress_name   "goods-wz";
			set $service_name   "goods-wz";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-goods-wz-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server goods-wz.kakamobi.cn
	
	## start server goods-wz.mucang.me
	server {
		server_name goods-wz.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-goods-wz-8080";
			
			set $namespace      "default";
			set $ingress_name   "goods-wz";
			set $service_name   "goods-wz";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-goods-wz-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server goods-wz.mucang.me
	
	## start server group-assistant.kakamobi.cn
	server {
		server_name group-assistant.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-group-assistant-8080";
			
			set $namespace      "default";
			set $ingress_name   "group-assistant";
			set $service_name   "group-assistant";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-group-assistant-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server group-assistant.kakamobi.cn
	
	## start server hubble.mucang.cn
	server {
		server_name hubble.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-hubble-8080";
			
			set $namespace      "default";
			set $ingress_name   "hubble";
			set $service_name   "hubble";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-hubble-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server hubble.mucang.cn
	
	## start server influxdb-nginx.mucang.cn
	server {
		server_name influxdb-nginx.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-influxdb-nginx-hz-8086";
			
			set $namespace      "default";
			set $ingress_name   "influxdb-nginx-hz";
			set $service_name   "influxdb-nginx-hz";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-influxdb-nginx-hz-8086;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server influxdb-nginx.mucang.cn
	
	## start server influxdb-nginx.mucang.me
	server {
		server_name influxdb-nginx.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-influxdb-nginx-hz-8086";
			
			set $namespace      "default";
			set $ingress_name   "influxdb-nginx-hz";
			set $service_name   "influxdb-nginx-hz";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-influxdb-nginx-hz-8086;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server influxdb-nginx.mucang.me
	
	## start server insurance-car.kakamobi.cn
	server {
		server_name insurance-car.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-insurance-car-8080";
			
			set $namespace      "default";
			set $ingress_name   "insurance-car";
			set $service_name   "insurance-car";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-insurance-car-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server insurance-car.kakamobi.cn
	
	## start server insurance-jx.kakamobi.cn
	server {
		server_name insurance-jx.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-insurance-jx-8080";
			
			set $namespace      "default";
			set $ingress_name   "insurance-jx";
			set $service_name   "insurance-jx";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-insurance-jx-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server insurance-jx.kakamobi.cn
	
	## start server intent-score.kakamobi.cn
	server {
		server_name intent-score.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-intent-score-8080";
			
			set $namespace      "default";
			set $ingress_name   "intent-score";
			set $service_name   "intent-score";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-intent-score-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server intent-score.kakamobi.cn
	
	## start server intent-score.mucang.me
	server {
		server_name intent-score.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-intent-score-8080";
			
			set $namespace      "default";
			set $ingress_name   "intent-score";
			set $service_name   "intent-score";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-intent-score-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server intent-score.mucang.me
	
	## start server ip-proxy.mucang.cn
	server {
		server_name ip-proxy.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-ip-proxy-8080";
			
			set $namespace      "default";
			set $ingress_name   "ip-proxy";
			set $service_name   "ip-proxy";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-ip-proxy-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server ip-proxy.mucang.cn
	
	## start server ipip.kakamobi.com
	server {
		server_name ipip.kakamobi.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-ipip-8080";
			
			set $namespace      "default";
			set $ingress_name   "ipip";
			set $service_name   "ipip";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-ipip-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server ipip.kakamobi.com
	
	## start server jiakao-misc.kakamobi.cn
	server {
		server_name jiakao-misc.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-jiakao-misc-8080";
			
			set $namespace      "default";
			set $ingress_name   "jiakao-misc";
			set $service_name   "jiakao-misc";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-jiakao-misc-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server jiakao-misc.kakamobi.cn
	
	## start server jiaxiao-bd.kakamobi.cn
	server {
		server_name jiaxiao-bd.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-jiaxiao-bd-8080";
			
			set $namespace      "default";
			set $ingress_name   "jiaxiao-bd";
			set $service_name   "jiaxiao-bd";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-jiaxiao-bd-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server jiaxiao-bd.kakamobi.cn
	
	## start server jiaxiao-bd.mucang.me
	server {
		server_name jiaxiao-bd.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-jiaxiao-bd-8080";
			
			set $namespace      "default";
			set $ingress_name   "jiaxiao-bd";
			set $service_name   "jiaxiao-bd";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-jiaxiao-bd-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server jiaxiao-bd.mucang.me
	
	## start server jiaxiao-data.kakamobi.cn
	server {
		server_name jiaxiao-data.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-jiaxiao-data-8080";
			
			set $namespace      "default";
			set $ingress_name   "jiaxiao-data";
			set $service_name   "jiaxiao-data";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-jiaxiao-data-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server jiaxiao-data.kakamobi.cn
	
	## start server jiaxiao-golden-coach.kakamobi.cn
	server {
		server_name jiaxiao-golden-coach.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-jiaxiao-golden-coach-8080";
			
			set $namespace      "default";
			set $ingress_name   "jiaxiao-golden-coach";
			set $service_name   "jiaxiao-golden-coach";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-jiaxiao-golden-coach-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server jiaxiao-golden-coach.kakamobi.cn
	
	## start server jiaxiao-lead-filter.kakamobi.cn
	server {
		server_name jiaxiao-lead-filter.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-jiaxiao-lead-filter-8080";
			
			set $namespace      "default";
			set $ingress_name   "jiaxiao-lead-filter";
			set $service_name   "jiaxiao-lead-filter";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-jiaxiao-lead-filter-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server jiaxiao-lead-filter.kakamobi.cn
	
	## start server jiaxiao-marketing.kakamobi.cn
	server {
		server_name jiaxiao-marketing.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-jiaxiao-marketing-8080";
			
			set $namespace      "default";
			set $ingress_name   "jiaxiao-marketing";
			set $service_name   "jiaxiao-marketing";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-jiaxiao-marketing-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server jiaxiao-marketing.kakamobi.cn
	
	## start server jiaxiao-marketing.mucang.me
	server {
		server_name jiaxiao-marketing.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-jiaxiao-marketing-8080";
			
			set $namespace      "default";
			set $ingress_name   "jiaxiao-marketing";
			set $service_name   "jiaxiao-marketing";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-jiaxiao-marketing-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server jiaxiao-marketing.mucang.me
	
	## start server jiaxiao-promotion.kakamobi.cn
	server {
		server_name jiaxiao-promotion.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-jiaxiao-promotion-8080";
			
			set $namespace      "default";
			set $ingress_name   "jiaxiao-promotion";
			set $service_name   "jiaxiao-promotion";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-jiaxiao-promotion-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server jiaxiao-promotion.kakamobi.cn
	
	## start server jiaxiao-rank.kakamobi.cn
	server {
		server_name jiaxiao-rank.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-jiaxiao-rank-8080";
			
			set $namespace      "default";
			set $ingress_name   "jiaxiao-rank";
			set $service_name   "jiaxiao-rank";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-jiaxiao-rank-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server jiaxiao-rank.kakamobi.cn
	
	## start server jiaxiao-report.kakamobi.cn
	server {
		server_name jiaxiao-report.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-jiaxiao-report-8080";
			
			set $namespace      "default";
			set $ingress_name   "jiaxiao-report";
			set $service_name   "jiaxiao-report";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-jiaxiao-report-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server jiaxiao-report.kakamobi.cn
	
	## start server jiaxiao-user.kakamobi.cn
	server {
		server_name jiaxiao-user.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-jiaxiao-user-8080";
			
			set $namespace      "default";
			set $ingress_name   "jiaxiao-user";
			set $service_name   "jiaxiao-user";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-jiaxiao-user-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server jiaxiao-user.kakamobi.cn
	
	## start server jiaxiao-user.mucang.me
	server {
		server_name jiaxiao-user.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-jiaxiao-user-8080";
			
			set $namespace      "default";
			set $ingress_name   "jiaxiao-user";
			set $service_name   "jiaxiao-user";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-jiaxiao-user-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server jiaxiao-user.mucang.me
	
	## start server jiaxiao-vip.kakamobi.cn
	server {
		server_name jiaxiao-vip.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-jiaxiao-vip-8080";
			
			set $namespace      "default";
			set $ingress_name   "jiaxiao-vip";
			set $service_name   "jiaxiao-vip";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-jiaxiao-vip-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server jiaxiao-vip.kakamobi.cn
	
	## start server jiaxiao-vip.mucang.me
	server {
		server_name jiaxiao-vip.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-jiaxiao-vip-8080";
			
			set $namespace      "default";
			set $ingress_name   "jiaxiao-vip";
			set $service_name   "jiaxiao-vip";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-jiaxiao-vip-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server jiaxiao-vip.mucang.me
	
	## start server jiaxiao.jiakaobaodian.com
	server {
		server_name jiaxiao.jiakaobaodian.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-xue-lead-8080";
			
			set $namespace      "default";
			set $ingress_name   "xue-lead";
			set $service_name   "xue-lead";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-xue-lead-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server jiaxiao.jiakaobaodian.com
	
	## start server jiaxiao122.kakamobi.cn
	server {
		server_name jiaxiao122.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-jiaxiao122-8080";
			
			set $namespace      "default";
			set $ingress_name   "jiaxiao122";
			set $service_name   "jiaxiao122";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-jiaxiao122-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server jiaxiao122.kakamobi.cn
	
	## start server jiaxiao122.mucang.me
	server {
		server_name jiaxiao122.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-jiaxiao122-8080";
			
			set $namespace      "default";
			set $ingress_name   "jiaxiao122";
			set $service_name   "jiaxiao122";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-jiaxiao122-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server jiaxiao122.mucang.me
	
	## start server jikebao.maiche.com
	server {
		server_name jikebao.maiche.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-jikebao-web-8080";
			
			set $namespace      "default";
			set $ingress_name   "jikebao-web";
			set $service_name   "jikebao-web";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-jikebao-web-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server jikebao.maiche.com
	
	## start server jupiter-incubator.kakamobi.cn
	server {
		server_name jupiter-incubator.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-jupiter-incubator-8080";
			
			set $namespace      "default";
			set $ingress_name   "jupiter-incubator";
			set $service_name   "jupiter-incubator";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-jupiter-incubator-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server jupiter-incubator.kakamobi.cn
	
	## start server jupiter-incubator.mucang.me
	server {
		server_name jupiter-incubator.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-jupiter-incubator-8080";
			
			set $namespace      "default";
			set $ingress_name   "jupiter-incubator";
			set $service_name   "jupiter-incubator";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-jupiter-incubator-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server jupiter-incubator.mucang.me
	
	## start server label-gen-lead.kakamobi.cn
	server {
		server_name label-gen-lead.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-label-gen-lead-8080";
			
			set $namespace      "default";
			set $ingress_name   "label-gen-lead";
			set $service_name   "label-gen-lead";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-label-gen-lead-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server label-gen-lead.kakamobi.cn
	
	## start server label-gen-lead.mucang.me
	server {
		server_name label-gen-lead.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-label-gen-lead-8080";
			
			set $namespace      "default";
			set $ingress_name   "label-gen-lead";
			set $service_name   "label-gen-lead";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-label-gen-lead-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server label-gen-lead.mucang.me
	
	## start server label-gen-question.kakamobi.cn
	server {
		server_name label-gen-question.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-label-gen-question-8080";
			
			set $namespace      "default";
			set $ingress_name   "label-gen-question";
			set $service_name   "label-gen-question";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-label-gen-question-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server label-gen-question.kakamobi.cn
	
	## start server lead-analysis.kakamobi.cn
	server {
		server_name lead-analysis.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-lead-analysis-8080";
			
			set $namespace      "default";
			set $ingress_name   "lead-analysis";
			set $service_name   "lead-analysis";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-lead-analysis-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server lead-analysis.kakamobi.cn
	
	## start server lead-analysis.mucang.me
	server {
		server_name lead-analysis.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-lead-analysis-8080";
			
			set $namespace      "default";
			set $ingress_name   "lead-analysis";
			set $service_name   "lead-analysis";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-lead-analysis-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server lead-analysis.mucang.me
	
	## start server lead-d.kakamobi.cn
	server {
		server_name lead-d.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-lead-d-8080";
			
			set $namespace      "default";
			set $ingress_name   "lead-d";
			set $service_name   "lead-d";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-lead-d-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server lead-d.kakamobi.cn
	
	## start server lead-d.mucang.me
	server {
		server_name lead-d.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-lead-d-8080";
			
			set $namespace      "default";
			set $ingress_name   "lead-d";
			set $service_name   "lead-d";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-lead-d-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server lead-d.mucang.me
	
	## start server libra.kakamobi.cn
	server {
		server_name libra.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-libra-8080";
			
			set $namespace      "default";
			set $ingress_name   "libra";
			set $service_name   "libra";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-libra-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server libra.kakamobi.cn
	
	## start server libra.mucang.me
	server {
		server_name libra.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-libra-8080";
			
			set $namespace      "default";
			set $ingress_name   "libra";
			set $service_name   "libra";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-libra-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server libra.mucang.me
	
	## start server logcenter.mucang.cn
	server {
		server_name logcenter.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-logcenter-8080";
			
			set $namespace      "default";
			set $ingress_name   "logcenter";
			set $service_name   "logcenter";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-logcenter-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server logcenter.mucang.cn
	
	## start server lungfish.kakamobi.cn
	server {
		server_name lungfish.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-lungfish-8080";
			
			set $namespace      "default";
			set $ingress_name   "lungfish";
			set $service_name   "lungfish";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-lungfish-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server lungfish.kakamobi.cn
	
	## start server m.maichebao.net.cn
	server {
		server_name m.maichebao.net.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-m-maichebao-net-cn-8080";
			
			set $namespace      "default";
			set $ingress_name   "m-maichebao-net-cn";
			set $service_name   "m-maichebao-net-cn";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-m-maichebao-net-cn-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server m.maichebao.net.cn
	
	## start server m.maichebaodian.com.nodejs
	server {
		server_name m.maichebaodian.com.nodejs ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-maichebaodian-sem-nodejs-8080";
			
			set $namespace      "default";
			set $ingress_name   "maichebaodian-sem-nodejs";
			set $service_name   "maichebaodian-sem-nodejs";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-maichebaodian-sem-nodejs-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server m.maichebaodian.com.nodejs
	
	## start server m.mucang.cn
	server {
		server_name m.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-m-mucang-cn-8080";
			
			set $namespace      "default";
			set $ingress_name   "m-mucang-cn";
			set $service_name   "m-mucang-cn";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-m-mucang-cn-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server m.mucang.cn
	
	## start server m.tufu.com
	server {
		server_name m.tufu.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-m-jiaxiao-sem-8080";
			
			set $namespace      "default";
			set $ingress_name   "m-jiaxiao-sem";
			set $service_name   "m-jiaxiao-sem";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-m-jiaxiao-sem-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server m.tufu.com
	
	## start server m.xiaozhu2.com
	server {
		server_name m.xiaozhu2.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-m-xiaozhu2-com-8080";
			
			set $namespace      "default";
			set $ingress_name   "m-xiaozhu2-com";
			set $service_name   "m-xiaozhu2-com";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-m-xiaozhu2-com-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server m.xiaozhu2.com
	
	## start server maiche-huanggang-www.kakamobi.com
	server {
		server_name maiche-huanggang-www.kakamobi.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-maiche-huanggang-www-8080";
			
			set $namespace      "default";
			set $ingress_name   "maiche-huanggang-www";
			set $service_name   "maiche-huanggang-www";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-maiche-huanggang-www-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server maiche-huanggang-www.kakamobi.com
	
	## start server maiche-hynews-www.kakamobi.com
	server {
		server_name maiche-hynews-www.kakamobi.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-maiche-hynews-www-8080";
			
			set $namespace      "default";
			set $ingress_name   "maiche-hynews-www";
			set $service_name   "maiche-hynews-www";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-maiche-hynews-www-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server maiche-hynews-www.kakamobi.com
	
	## start server maiche-hynews.kakamobi.com
	server {
		server_name maiche-hynews.kakamobi.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-maiche-hynews-kakamobi-com-8080";
			
			set $namespace      "default";
			set $ingress_name   "maiche-hynews-kakamobi-com";
			set $service_name   "maiche-hynews-kakamobi-com";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-maiche-hynews-kakamobi-com-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server maiche-hynews.kakamobi.com
	
	## start server maiche-seo-caibian.kakamobi.cn
	server {
		server_name maiche-seo-caibian.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-maiche-seo-caibian-8080";
			
			set $namespace      "default";
			set $ingress_name   "maiche-seo-caibian";
			set $service_name   "maiche-seo-caibian";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-maiche-seo-caibian-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server maiche-seo-caibian.kakamobi.cn
	
	## start server maiche-seo-caibian.mucang.me
	server {
		server_name maiche-seo-caibian.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-maiche-seo-caibian-8080";
			
			set $namespace      "default";
			set $ingress_name   "maiche-seo-caibian";
			set $service_name   "maiche-seo-caibian";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-maiche-seo-caibian-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server maiche-seo-caibian.mucang.me
	
	## start server maiche-seo-wemedia.kakamobi.cn
	server {
		server_name maiche-seo-wemedia.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-maiche-seo-wemedia-8080";
			
			set $namespace      "default";
			set $ingress_name   "maiche-seo-wemedia";
			set $service_name   "maiche-seo-wemedia";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-maiche-seo-wemedia-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server maiche-seo-wemedia.kakamobi.cn
	
	## start server maiche-seo-wemedia.mucang.me
	server {
		server_name maiche-seo-wemedia.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-maiche-seo-wemedia-8080";
			
			set $namespace      "default";
			set $ingress_name   "maiche-seo-wemedia";
			set $service_name   "maiche-seo-wemedia";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-maiche-seo-wemedia-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server maiche-seo-wemedia.mucang.me
	
	## start server manhunt.kakamobi.cn
	server {
		server_name manhunt.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-manhunt-8080";
			
			set $namespace      "default";
			set $ingress_name   "manhunt";
			set $service_name   "manhunt";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-manhunt-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server manhunt.kakamobi.cn
	
	## start server manhunt.mucang.me
	server {
		server_name manhunt.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-manhunt-8080";
			
			set $namespace      "default";
			set $ingress_name   "manhunt";
			set $service_name   "manhunt";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-manhunt-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server manhunt.mucang.me
	
	## start server medal-service.kakamobi.cn
	server {
		server_name medal-service.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-medal-service-8080";
			
			set $namespace      "default";
			set $ingress_name   "medal-service";
			set $service_name   "medal-service";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-medal-service-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server medal-service.kakamobi.cn
	
	## start server medal-service.mucang.me
	server {
		server_name medal-service.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-medal-service-8080";
			
			set $namespace      "default";
			set $ingress_name   "medal-service";
			set $service_name   "medal-service";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-medal-service-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server medal-service.mucang.me
	
	## start server mind-visit.kakamobi.cn
	server {
		server_name mind-visit.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-mind-visit-8080";
			
			set $namespace      "default";
			set $ingress_name   "mind-visit";
			set $service_name   "mind-visit";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-mind-visit-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server mind-visit.kakamobi.cn
	
	## start server mind-visit.mucang.me
	server {
		server_name mind-visit.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-mind-visit-8080";
			
			set $namespace      "default";
			set $ingress_name   "mind-visit";
			set $service_name   "mind-visit";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-mind-visit-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server mind-visit.mucang.me
	
	## start server mip.xiaozhu2.com
	server {
		server_name mip.xiaozhu2.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-mip-xiaozhu2-com-8080";
			
			set $namespace      "default";
			set $ingress_name   "mip-xiaozhu2-com";
			set $service_name   "mip-xiaozhu2-com";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-mip-xiaozhu2-com-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server mip.xiaozhu2.com
	
	## start server misc.kakamobi.com
	server {
		server_name misc.kakamobi.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-misc-new-8080";
			
			set $namespace      "default";
			set $ingress_name   "misc-new";
			set $service_name   "misc-new";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-misc-new-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server misc.kakamobi.com
	
	## start server myth.kakamobi.cn
	server {
		server_name myth.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-myth-8080";
			
			set $namespace      "default";
			set $ingress_name   "myth";
			set $service_name   "myth";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-myth-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server myth.kakamobi.cn
	
	## start server nearby-rank.jiakaobaodian.com
	server {
		server_name nearby-rank.jiakaobaodian.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-jiakao-nearby-rank-8080";
			
			set $namespace      "default";
			set $ingress_name   "jiakao-nearby-rank";
			set $service_name   "jiakao-nearby-rank";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-jiakao-nearby-rank-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server nearby-rank.jiakaobaodian.com
	
	## start server newbowl.kakamobi.cn
	server {
		server_name newbowl.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-newbowl-8080";
			
			set $namespace      "default";
			set $ingress_name   "newbowl";
			set $service_name   "newbowl";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-newbowl-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server newbowl.kakamobi.cn
	
	## start server newbowl.mucang.me
	server {
		server_name newbowl.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-newbowl-8080";
			
			set $namespace      "default";
			set $ingress_name   "newbowl";
			set $service_name   "newbowl";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-newbowl-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server newbowl.mucang.me
	
	## start server op.kakamobi.cn
	server {
		server_name op.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-record-8080";
			
			set $namespace      "default";
			set $ingress_name   "record";
			set $service_name   "record";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-record-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server op.kakamobi.cn
	
	## start server orcus.kakamobi.cn
	server {
		server_name orcus.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-orcus-8080";
			
			set $namespace      "default";
			set $ingress_name   "orcus";
			set $service_name   "orcus";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-orcus-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server orcus.kakamobi.cn
	
	## start server orcus.mucang.me
	server {
		server_name orcus.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-orcus-8080";
			
			set $namespace      "default";
			set $ingress_name   "orcus";
			set $service_name   "orcus";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-orcus-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server orcus.mucang.me
	
	## start server panoramic-image.maiche.com
	server {
		server_name panoramic-image.maiche.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-panoramic-image-8080";
			
			set $namespace      "default";
			set $ingress_name   "panoramic-image";
			set $service_name   "panoramic-image";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-panoramic-image-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server panoramic-image.maiche.com
	
	## start server panoramic-image.mucang.me
	server {
		server_name panoramic-image.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-panoramic-image-8080";
			
			set $namespace      "default";
			set $ingress_name   "panoramic-image";
			set $service_name   "panoramic-image";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-panoramic-image-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server panoramic-image.mucang.me
	
	## start server parallel-home.maiche.com
	server {
		server_name parallel-home.maiche.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-parallel-home-8080";
			
			set $namespace      "default";
			set $ingress_name   "parallel-home";
			set $service_name   "parallel-home";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-parallel-home-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server parallel-home.maiche.com
	
	## start server parallel-home.mucang.me
	server {
		server_name parallel-home.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-parallel-home-8080";
			
			set $namespace      "default";
			set $ingress_name   "parallel-home";
			set $service_name   "parallel-home";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-parallel-home-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server parallel-home.mucang.me
	
	## start server pitu.kakamobi.cn
	server {
		server_name pitu.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-pitu-8080";
			
			set $namespace      "default";
			set $ingress_name   "pitu";
			set $service_name   "pitu";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-pitu-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server pitu.kakamobi.cn
	
	## start server prometheus-alertmanager-simple.mucang.cn
	server {
		server_name prometheus-alertmanager-simple.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-prometheus-alertmanager-simple-9093";
			
			set $namespace      "default";
			set $ingress_name   "prometheus-alertmanager-simple";
			set $service_name   "prometheus-alertmanager-simple";
			
			auth_basic "登录验证";
			auth_basic_user_file /etc/ingress-controller/auth/default-prometheus-alertmanager-simple.passwd;
			
			proxy_set_header Authorization "";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_pass http://default-prometheus-alertmanager-simple-9093;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server prometheus-alertmanager-simple.mucang.cn
	
	## start server prometheus-alertmanager.mucang.me
	server {
		server_name prometheus-alertmanager.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-prometheus-alertmanager-simple-9093";
			
			set $namespace      "default";
			set $ingress_name   "prometheus-alertmanager-innernet";
			set $service_name   "prometheus-alertmanager-simple";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_pass http://default-prometheus-alertmanager-simple-9093;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server prometheus-alertmanager.mucang.me
	
	## start server prometheus-assembly-hz.mucang.cn
	server {
		server_name prometheus-assembly-hz.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-prometheus-assembly-hz-9090";
			
			set $namespace      "default";
			set $ingress_name   "prometheus-assembly-hz";
			set $service_name   "prometheus-assembly-hz";
			
			auth_basic "登录验证";
			auth_basic_user_file /etc/ingress-controller/auth/default-prometheus-assembly-hz.passwd;
			
			proxy_set_header Authorization "";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_pass http://default-prometheus-assembly-hz-9090;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server prometheus-assembly-hz.mucang.cn
	
	## start server prometheus-ecs-hz-0.mucang.cn
	server {
		server_name prometheus-ecs-hz-0.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-prometheus-ecs-hz-0-9090";
			
			set $namespace      "default";
			set $ingress_name   "prometheus-ecs-hz-0";
			set $service_name   "prometheus-ecs-hz-0";
			
			auth_basic "登录验证";
			auth_basic_user_file /etc/ingress-controller/auth/default-prometheus-ecs-hz-0.passwd;
			
			proxy_set_header Authorization "";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_pass http://default-prometheus-ecs-hz-0-9090;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server prometheus-ecs-hz-0.mucang.cn
	
	## start server prometheus-ecs-hz-1.mucang.cn
	server {
		server_name prometheus-ecs-hz-1.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-prometheus-ecs-hz-1-9090";
			
			set $namespace      "default";
			set $ingress_name   "prometheus-ecs-hz-1";
			set $service_name   "prometheus-ecs-hz-1";
			
			auth_basic "登录验证";
			auth_basic_user_file /etc/ingress-controller/auth/default-prometheus-ecs-hz-1.passwd;
			
			proxy_set_header Authorization "";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_pass http://default-prometheus-ecs-hz-1-9090;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server prometheus-ecs-hz-1.mucang.cn
	
	## start server prometheus-ecs-hz-2.mucang.cn
	server {
		server_name prometheus-ecs-hz-2.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-prometheus-ecs-hz-2-9090";
			
			set $namespace      "default";
			set $ingress_name   "prometheus-ecs-hz-2";
			set $service_name   "prometheus-ecs-hz-2";
			
			auth_basic "登录验证";
			auth_basic_user_file /etc/ingress-controller/auth/default-prometheus-ecs-hz-2.passwd;
			
			proxy_set_header Authorization "";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_pass http://default-prometheus-ecs-hz-2-9090;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server prometheus-ecs-hz-2.mucang.cn
	
	## start server prometheus-ecs-simple-slave-hz.mucang.cn
	server {
		server_name prometheus-ecs-simple-slave-hz.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-prometheus-ecs-simple-slave-hz-9090";
			
			set $namespace      "default";
			set $ingress_name   "prometheus-ecs-simple-slave-hz";
			set $service_name   "prometheus-ecs-simple-slave-hz";
			
			auth_basic "登录验证";
			auth_basic_user_file /etc/ingress-controller/auth/default-prometheus-ecs-simple-slave-hz.passwd;
			
			proxy_set_header Authorization "";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_pass http://default-prometheus-ecs-simple-slave-hz-9090;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server prometheus-ecs-simple-slave-hz.mucang.cn
	
	## start server prometheus-k8s-master-hz.mucang.cn
	server {
		server_name prometheus-k8s-master-hz.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-prometheus-k8s-master-hz-9090";
			
			set $namespace      "default";
			set $ingress_name   "prometheus-k8s-master-hz";
			set $service_name   "prometheus-k8s-master-hz";
			
			auth_basic "登录验证";
			auth_basic_user_file /etc/ingress-controller/auth/default-prometheus-k8s-master-hz.passwd;
			
			proxy_set_header Authorization "";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_pass http://default-prometheus-k8s-master-hz-9090;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server prometheus-k8s-master-hz.mucang.cn
	
	## start server prometheus-k8s-simple-slave-hz.mucang.cn
	server {
		server_name prometheus-k8s-simple-slave-hz.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-prometheus-k8s-simple-slave-hz-9090";
			
			set $namespace      "default";
			set $ingress_name   "prometheus-k8s-simple-slave-hz";
			set $service_name   "prometheus-k8s-simple-slave-hz";
			
			auth_basic "登录验证";
			auth_basic_user_file /etc/ingress-controller/auth/default-prometheus-k8s-simple-slave-hz.passwd;
			
			proxy_set_header Authorization "";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_pass http://default-prometheus-k8s-simple-slave-hz-9090;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server prometheus-k8s-simple-slave-hz.mucang.cn
	
	## start server prometheus-k8s-slave-hz.mucang.cn
	server {
		server_name prometheus-k8s-slave-hz.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-prometheus-k8s-slave-hz-9090";
			
			set $namespace      "default";
			set $ingress_name   "prometheus-k8s-slave-hz";
			set $service_name   "prometheus-k8s-slave-hz";
			
			auth_basic "登录验证";
			auth_basic_user_file /etc/ingress-controller/auth/default-prometheus-k8s-slave-hz.passwd;
			
			proxy_set_header Authorization "";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_pass http://default-prometheus-k8s-slave-hz-9090;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server prometheus-k8s-slave-hz.mucang.cn
	
	## start server prometheus-simple-master-hz.mucang.cn
	server {
		server_name prometheus-simple-master-hz.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-prometheus-simple-master-hz-9090";
			
			set $namespace      "default";
			set $ingress_name   "prometheus-simple-master-hz";
			set $service_name   "prometheus-simple-master-hz";
			
			auth_basic "登录验证";
			auth_basic_user_file /etc/ingress-controller/auth/default-prometheus-simple-master-hz.passwd;
			
			proxy_set_header Authorization "";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-prometheus-simple-master-hz-9090;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server prometheus-simple-master-hz.mucang.cn
	
	## start server provider-cheetah.mucang.cn
	server {
		server_name provider-cheetah.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-cheetah-8080";
			
			set $namespace      "default";
			set $ingress_name   "cheetah";
			set $service_name   "cheetah";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-cheetah-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server provider-cheetah.mucang.cn
	
	## start server push.kakamobi.com
	server {
		server_name push.kakamobi.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-cheetah-api-8080";
			
			set $namespace      "default";
			set $ingress_name   "cheetah-api";
			set $service_name   "cheetah-api";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			proxy_set_header Connection "";
			
			proxy_pass http://default-cheetah-api-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server push.kakamobi.com
	
	## start server pxzjcyh-weixin.kakamobi.cn
	server {
		server_name pxzjcyh-weixin.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-pxzjcyh-weixin-8080";
			
			set $namespace      "default";
			set $ingress_name   "pxzjcyh-weixin";
			set $service_name   "pxzjcyh-weixin";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-pxzjcyh-weixin-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server pxzjcyh-weixin.kakamobi.cn
	
	## start server question-manager.kakamobi.cn
	server {
		server_name question-manager.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-question-manager-8080";
			
			set $namespace      "default";
			set $ingress_name   "question-manager";
			set $service_name   "question-manager";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-question-manager-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server question-manager.kakamobi.cn
	
	## start server rcc.kakamobi.com
	server {
		server_name rcc.kakamobi.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-rcc-8080";
			
			set $namespace      "default";
			set $ingress_name   "rcc";
			set $service_name   "rcc";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-rcc-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server rcc.kakamobi.com
	
	## start server recording.kakamobi.cn
	server {
		server_name recording.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-recording-8080";
			
			set $namespace      "default";
			set $ingress_name   "recording";
			set $service_name   "recording";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-recording-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server recording.kakamobi.cn
	
	## start server recording.mucang.me
	server {
		server_name recording.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-recording-8080";
			
			set $namespace      "default";
			set $ingress_name   "recording";
			set $service_name   "recording";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-recording-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server recording.mucang.me
	
	## start server rocket.mucang.cn
	server {
		server_name rocket.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-rocket-8080";
			
			set $namespace      "default";
			set $ingress_name   "rocket";
			set $service_name   "rocket";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-rocket-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server rocket.mucang.cn
	
	## start server sem-www.maichebaodian.com
	server {
		server_name sem-www.maichebaodian.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-maichebaodian-sem-8080";
			
			set $namespace      "default";
			set $ingress_name   "maichebaodian-sem";
			set $service_name   "maichebaodian-sem";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-maichebaodian-sem-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server sem-www.maichebaodian.com
	
	## start server seo-media.maiche.com
	server {
		server_name seo-media.maiche.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-seo-media-8080";
			
			set $namespace      "default";
			set $ingress_name   "seo-media";
			set $service_name   "seo-media";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-seo-media-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server seo-media.maiche.com
	
	## start server shaker.kakamobi.cn
	server {
		server_name shaker.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-shaker-8080";
			
			set $namespace      "default";
			set $ingress_name   "shaker";
			set $service_name   "shaker";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-shaker-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server shaker.kakamobi.cn
	
	## start server shop-wuhan.kakamobi.cn
	server {
		server_name shop-wuhan.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-tufushangcheng-8080";
			
			set $namespace      "default";
			set $ingress_name   "tufushangcheng";
			set $service_name   "tufushangcheng";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-tufushangcheng-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server shop-wuhan.kakamobi.cn
	
	## start server taurus.kakamobi.cn
	server {
		server_name taurus.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-taurus-8080";
			
			set $namespace      "default";
			set $ingress_name   "taurus";
			set $service_name   "taurus";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-taurus-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server taurus.kakamobi.cn
	
	## start server taurus.mucang.me
	server {
		server_name taurus.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-taurus-8080";
			
			set $namespace      "default";
			set $ingress_name   "taurus";
			set $service_name   "taurus";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-taurus-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server taurus.mucang.me
	
	## start server thanos-alert-rule.mucang.cn
	server {
		server_name thanos-alert-rule.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-thanos-alert-rule-10902";
			
			set $namespace      "default";
			set $ingress_name   "thanos-alert-rule";
			set $service_name   "thanos-alert-rule";
			
			auth_basic "登录验证";
			auth_basic_user_file /etc/ingress-controller/auth/default-thanos-alert-rule.passwd;
			
			proxy_set_header Authorization "";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_pass http://default-thanos-alert-rule-10902;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server thanos-alert-rule.mucang.cn
	
	## start server thanos-querier.mucang.cn
	server {
		server_name thanos-querier.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-thanos-querier-9090";
			
			set $namespace      "default";
			set $ingress_name   "thanos-querier";
			set $service_name   "thanos-querier";
			
			auth_basic "登录验证";
			auth_basic_user_file /etc/ingress-controller/auth/default-thanos-querier.passwd;
			
			proxy_set_header Authorization "";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_pass http://default-thanos-querier-9090;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server thanos-querier.mucang.cn
	
	## start server tiku-caibian.kakamobi.cn
	server {
		server_name tiku-caibian.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-tiku-caibian-8080";
			
			set $namespace      "default";
			set $ingress_name   "tiku-caibian";
			set $service_name   "tiku-caibian";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-tiku-caibian-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server tiku-caibian.kakamobi.cn
	
	## start server topsales-statistics.maiche.com
	server {
		server_name topsales-statistics.maiche.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-topsales-8080";
			
			set $namespace      "default";
			set $ingress_name   "topsales";
			set $service_name   "topsales";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-topsales-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server topsales-statistics.maiche.com
	
	## start server topsales.maiche.com
	server {
		server_name topsales.maiche.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-topsales-8080";
			
			set $namespace      "default";
			set $ingress_name   "topsales";
			set $service_name   "topsales";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-topsales-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server topsales.maiche.com
	
	## start server topsales.mucang.me
	server {
		server_name topsales.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-topsales-8080";
			
			set $namespace      "default";
			set $ingress_name   "topsales";
			set $service_name   "topsales";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-topsales-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server topsales.mucang.me
	
	## start server toutiao-city-agent.kakamobi.cn
	server {
		server_name toutiao-city-agent.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-toutiao-city-agent-8080";
			
			set $namespace      "default";
			set $ingress_name   "toutiao-city-agent";
			set $service_name   "toutiao-city-agent";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-toutiao-city-agent-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server toutiao-city-agent.kakamobi.cn
	
	## start server toutiao-city-agent.mucang.me
	server {
		server_name toutiao-city-agent.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-toutiao-city-agent-8080";
			
			set $namespace      "default";
			set $ingress_name   "toutiao-city-agent";
			set $service_name   "toutiao-city-agent";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-toutiao-city-agent-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server toutiao-city-agent.mucang.me
	
	## start server usedcar-statistic-lead.kakamobi.cn
	server {
		server_name usedcar-statistic-lead.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-usedcar-statistic-lead-8080";
			
			set $namespace      "default";
			set $ingress_name   "usedcar-statistic-lead";
			set $service_name   "usedcar-statistic-lead";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-usedcar-statistic-lead-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server usedcar-statistic-lead.kakamobi.cn
	
	## start server usedcar-statistic-lead.mucang.me
	server {
		server_name usedcar-statistic-lead.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-usedcar-statistic-lead-8080";
			
			set $namespace      "default";
			set $ingress_name   "usedcar-statistic-lead";
			set $service_name   "usedcar-statistic-lead";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-usedcar-statistic-lead-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server usedcar-statistic-lead.mucang.me
	
	## start server vin.kakamobi.cn
	server {
		server_name vin.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-vin-8080";
			
			set $namespace      "default";
			set $ingress_name   "vin";
			set $service_name   "vin";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-vin-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server vin.kakamobi.cn
	
	## start server vin.mucang.me
	server {
		server_name vin.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-vin-8080";
			
			set $namespace      "default";
			set $ingress_name   "vin";
			set $service_name   "vin";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-vin-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server vin.mucang.me
	
	## start server voyager.kakamobi.cn
	server {
		server_name voyager.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-voyager-8080";
			
			set $namespace      "default";
			set $ingress_name   "voyager";
			set $service_name   "voyager";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-voyager-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server voyager.kakamobi.cn
	
	## start server website-seo.kakamobi.cn
	server {
		server_name website-seo.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-website-seo-8080";
			
			set $namespace      "default";
			set $ingress_name   "website-seo";
			set $service_name   "website-seo";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-website-seo-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server website-seo.kakamobi.cn
	
	## start server website-seo.mucang.me
	server {
		server_name website-seo.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-website-seo-8080";
			
			set $namespace      "default";
			set $ingress_name   "website-seo";
			set $service_name   "website-seo";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-website-seo-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server website-seo.mucang.me
	
	## start server website.seo.kakamobi.cn
	server {
		server_name website.seo.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-website-seo-8080";
			
			set $namespace      "default";
			set $ingress_name   "website-seo";
			set $service_name   "website-seo";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-website-seo-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server website.seo.kakamobi.cn
	
	## start server weixin-platform.kakamobi.cn
	server {
		server_name weixin-platform.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-weixin-platform-8080";
			
			set $namespace      "default";
			set $ingress_name   "weixin-platform";
			set $service_name   "weixin-platform";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-weixin-platform-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server weixin-platform.kakamobi.cn
	
	## start server weixin-platform.mucang.me
	server {
		server_name weixin-platform.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-weixin-platform-8080";
			
			set $namespace      "default";
			set $ingress_name   "weixin-platform";
			set $service_name   "weixin-platform";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-weixin-platform-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server weixin-platform.mucang.me
	
	## start server wenjuan.kakamobi.cn
	server {
		server_name wenjuan.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-wenjuan-8080";
			
			set $namespace      "default";
			set $ingress_name   "wenjuan";
			set $service_name   "wenjuan";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-wenjuan-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server wenjuan.kakamobi.cn
	
	## start server www.jiaxiaozhijia.com
	server {
		server_name www.jiaxiaozhijia.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-www-jiaxiaozhijia-sem-8080";
			
			set $namespace      "default";
			set $ingress_name   "www-jiaxiaozhijia-sem";
			set $service_name   "www-jiaxiaozhijia-sem";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-www-jiaxiaozhijia-sem-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server www.jiaxiaozhijia.com
	
	## start server www.mucang.cn
	server {
		server_name www.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		if ( $host = "mucang.cn" ) {
			rewrite .* https://www.mucang.cn$request_uri? redirect;
		}
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-www-mucang-web-8080";
			
			set $namespace      "default";
			set $ingress_name   "www-mucang-web";
			set $service_name   "www-mucang-web";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_pass http://default-www-mucang-web-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server www.mucang.cn
	
	## start server www.tufu.com
	server {
		server_name www.tufu.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-www-tufu-com-8080";
			
			set $namespace      "default";
			set $ingress_name   "www-tufu-com";
			set $service_name   "www-tufu-com";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-www-tufu-com-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server www.tufu.com
	
	## start server www.xiaozhu2.com
	server {
		server_name www.xiaozhu2.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-www-xiaozhu2-web-8080";
			
			set $namespace      "default";
			set $ingress_name   "www-xiaozhu2-web";
			set $service_name   "www-xiaozhu2-web";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-www-xiaozhu2-web-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server www.xiaozhu2.com
	
	## start server xue-lead-misc.kakamobi.cn
	server {
		server_name xue-lead-misc.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-xue-lead-misc-8080";
			
			set $namespace      "default";
			set $ingress_name   "xue-lead-misc";
			set $service_name   "xue-lead-misc";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-xue-lead-misc-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server xue-lead-misc.kakamobi.cn
	
	## start server xue-lead.kakamobi.cn
	server {
		server_name xue-lead.kakamobi.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-xue-lead-8080";
			
			set $namespace      "default";
			set $ingress_name   "xue-lead";
			set $service_name   "xue-lead";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-xue-lead-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server xue-lead.kakamobi.cn
	
	## start server xue-lead.mucang.me
	server {
		server_name xue-lead.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-xue-lead-8080";
			
			set $namespace      "default";
			set $ingress_name   "xue-lead";
			set $service_name   "xue-lead";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-xue-lead-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server xue-lead.mucang.me
	
	## start server xueshi.jiakaobaodian.com
	server {
		server_name xueshi.jiakaobaodian.com ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-xueshi-8080";
			
			set $namespace      "default";
			set $ingress_name   "xueshi";
			set $service_name   "xueshi";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-xueshi-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server xueshi.jiakaobaodian.com
	
	## start server xueshi.mucang.me
	server {
		server_name xueshi.mucang.me ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-xueshi-8080";
			
			set $namespace      "default";
			set $ingress_name   "xueshi";
			set $service_name   "xueshi";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-xueshi-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server xueshi.mucang.me
	
	## start server yiqing.mucang.cn
	server {
		server_name yiqing.mucang.cn ;
		
		listen 80;
		
		listen [::]:80;
		
		set $proxy_upstream_name "-";
		
		location / {
			
			log_by_lua_block {
				
			}
			
			port_in_redirect off;
			
			set $proxy_upstream_name "default-yiqing-8080";
			
			set $namespace      "default";
			set $ingress_name   "yiqing";
			set $service_name   "yiqing";
			
			client_max_body_size                    "4000M";
			
			proxy_set_header Host                   $best_http_host;
			
			# Pass the extracted client certificate to the backend
			
			# Allow websocket connections
			proxy_set_header                        Upgrade           $http_upgrade;
			
			proxy_set_header                        Connection        $connection_upgrade;
			
			proxy_set_header X-Request-ID           $req_id;
			proxy_set_header X-Real-IP              $the_real_ip;
			
			proxy_set_header X-Forwarded-For        $the_real_ip;
			
			proxy_set_header X-Forwarded-Host       $best_http_host;
			proxy_set_header X-Forwarded-Port       $pass_port;
			proxy_set_header X-Forwarded-Proto      $pass_access_scheme;
			
			proxy_set_header X-Original-URI         $request_uri;
			
			proxy_set_header X-Scheme               $pass_access_scheme;
			
			# Pass the original X-Forwarded-For
			proxy_set_header X-Original-Forwarded-For $http_x_forwarded_for;
			
			# mitigate HTTPoxy Vulnerability
			# https://www.nginx.com/blog/mitigating-the-httpoxy-vulnerability-with-nginx/
			proxy_set_header Proxy                  "";
			
			# Custom headers to proxied server
			
			proxy_connect_timeout                   10s;
			proxy_send_timeout                      60s;
			proxy_read_timeout                      60s;
			
			proxy_buffering                         "off";
			proxy_buffer_size                       "4k";
			proxy_buffers                           4 "4k";
			proxy_request_buffering                 "on";
			
			proxy_http_version                      1.1;
			
			proxy_cookie_domain                     off;
			proxy_cookie_path                       off;
			
			# In case of errors try the next upstream server before returning an error
			proxy_next_upstream                     error timeout invalid_header http_502 http_503 http_504;
			proxy_next_upstream_tries               0;
			
			proxy_set_header X-Full-Uri https://$host$request_uri;
			
			proxy_pass http://default-yiqing-8080;
			
			proxy_redirect                          off;
			
		}
		
	}
	## end server yiqing.mucang.cn
	
	# default server, used for NGINX healthcheck and access to nginx stats
	server {
		# Use the port 18080 (random value just to avoid known ports) as default port for nginx.
		# Changing this value requires a change in:
		# https://github.com/kubernetes/ingress-nginx/blob/master/controllers/nginx/pkg/cmd/controller/nginx.go
		listen 18080 default_server  backlog=65535;
		listen [::]:18080 default_server  backlog=65535;
		set $proxy_upstream_name "-";
		
		location /healthz {
			
			access_log off;
			return 200;
		}
		
		location /is-dynamic-lb-initialized {
			
			access_log off;
			
			content_by_lua_block {
				local configuration = require("configuration")
				local backend_data = configuration.get_backends_data()
				if not backend_data then
				ngx.exit(ngx.HTTP_INTERNAL_SERVER_ERROR)
				return
				end
				
				ngx.say("OK")
				ngx.exit(ngx.HTTP_OK)
			}
		}
		
		location /nginx_status {
			set $proxy_upstream_name "internal";
			
			access_log off;
			stub_status on;
			
		}
		
		location / {
			
			set $proxy_upstream_name "upstream-default-backend";
			
			proxy_pass          http://upstream-default-backend;
			
		}
		
	}
}

stream {
	log_format log_stream [$time_local] $protocol $status $bytes_sent $bytes_received $session_time;
	
	access_log /var/log/nginx/access.log log_stream;
	
	error_log  /var/log/nginx/error.log;
	
	# TCP services
	
	# UDP services
	
}

